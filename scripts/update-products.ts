import { drizzle } from "drizzle-orm/mysql2";
import { products, categories } from "../drizzle/schema";

const db = drizzle(process.env.DATABASE_URL!);

async function updateProducts() {
  console.log("🗑️  Removendo produtos de exemplo...");
  
  // Limpar produtos existentes
  await db.delete(products);
  
  console.log("✅ Produtos de exemplo removidos");
  console.log("📦 Adicionando produtos reais da Amora Makeup...");

  // Produtos reais do site da Amora Makeup
  const realProducts = [
    // Mais Vendidos / Pele
    {
      name: "BB Cream FPS 60 L'Oréal Paris Solar Expertise",
      slug: "bb-cream-fps-60-loreal-paris",
      description: "💜Promove proteção com cor, fps 60. Toque seco, com ativos hidratantes. O melhor do 🇧🇷",
      price: 4990,
      compareAtPrice: null,
      stock: 15,
      categoryId: 6, // Pele
      brand: "L'Oréal Paris",
      imageUrl: "https://images.unsplash.com/photo-1596755389378-c31d21fd1273?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1596755389378-c31d21fd1273?w=500&h=500&fit=crop"]),
      rating: 48,
      reviewCount: 12,
      isFeatured: 1,
    },
    {
      name: "Cartela de Cílios Postiços 5 Pares Macrilan",
      slug: "cartela-cilios-posticos-5-pares-macrilan",
      description: "💜Contém 5 pares de cílios, a base e transparente 💜",
      price: 1990,
      compareAtPrice: null,
      stock: 25,
      categoryId: 7, // Cílios
      brand: "Macrilan",
      imageUrl: "https://images.unsplash.com/photo-1583001809350-0b9e5d5a0c6e?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1583001809350-0b9e5d5a0c6e?w=500&h=500&fit=crop"]),
      rating: 45,
      reviewCount: 8,
      isFeatured: 1,
    },
    {
      name: "Creme Noturno Facial 5 em 1 Nivea",
      slug: "creme-noturno-facial-5-em-1-nivea",
      description: "💜Auxilia na renovação celular, Possue vitamina b5, acalma a pele💜",
      price: 3690,
      compareAtPrice: null,
      stock: 18,
      categoryId: 4, // Skincare
      brand: "Nivea",
      imageUrl: "https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=500&h=500&fit=crop"]),
      rating: 47,
      reviewCount: 15,
      isFeatured: 1,
    },
    // Paletas
    {
      name: "Duo de Blush e Iluminador Melu Cor Rose",
      slug: "duo-blush-iluminador-melu-rose",
      description: "💜Super pigmentada com textura cremosa 💜 Acompanha: 1 tom de blush e 1 tom de iluminador 💜",
      price: 1990,
      compareAtPrice: null,
      stock: 20,
      categoryId: 2, // Sombras (ou criar categoria Paletas)
      brand: "Melu",
      imageUrl: "https://images.unsplash.com/photo-1512496015851-a90fb38ba796?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1512496015851-a90fb38ba796?w=500&h=500&fit=crop"]),
      rating: 46,
      reviewCount: 10,
      isFeatured: 1,
    },
    {
      name: "Paleta de Blush e Iluminador Melu Coral",
      slug: "paleta-blush-iluminador-melu-coral",
      description: "💜Super pigmentada com textura cremosa 💜 Acompanha: 1 tom de blush e 1 tom de iluminador 💜",
      price: 1990,
      compareAtPrice: null,
      stock: 20,
      categoryId: 2,
      brand: "Melu",
      imageUrl: "https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?w=500&h=500&fit=crop"]),
      rating: 46,
      reviewCount: 9,
      isFeatured: 0,
    },
    {
      name: "Paleta de Sombras Nina Secrets Marrom",
      slug: "paleta-sombras-nina-secrets-marrom",
      description: "💜Contém: tons cintilantes e opacos💜 Super pigmentada 💜",
      price: 12990,
      compareAtPrice: null,
      stock: 10,
      categoryId: 2,
      brand: "Nina Secrets",
      imageUrl: "https://images.unsplash.com/photo-1583241800698-e6b1e5f6e0f7?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1583241800698-e6b1e5f6e0f7?w=500&h=500&fit=crop"]),
      rating: 49,
      reviewCount: 18,
      isFeatured: 1,
    },
    {
      name: "Paleta de Blush e Iluminador Ruby Rose",
      slug: "paleta-blush-iluminador-ruby-rose",
      description: "💜 Composta por dois tons de blush e dois de iluminador 💜",
      price: 3890,
      compareAtPrice: null,
      stock: 15,
      categoryId: 2,
      brand: "Ruby Rose",
      imageUrl: "https://images.unsplash.com/photo-1631214524020-7e18db9a8f92?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1631214524020-7e18db9a8f92?w=500&h=500&fit=crop"]),
      rating: 47,
      reviewCount: 11,
      isFeatured: 0,
    },
    // Olhos
    {
      name: "Máscara de Marrom Super Brow Nina Secrets",
      slug: "mascara-marrom-super-brow-nina-secrets",
      description: "💜Promove volume e alongamento! Lançamento 🤎🤎🤎🤎 Deixa aquele cor marrom linda nos cílios !",
      price: 5990,
      compareAtPrice: null,
      stock: 12,
      categoryId: 2, // Olhos
      brand: "Nina Secrets",
      imageUrl: "https://images.unsplash.com/photo-1631730486572-226d1f595b68?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1631730486572-226d1f595b68?w=500&h=500&fit=crop"]),
      rating: 48,
      reviewCount: 14,
      isFeatured: 1,
    },
    {
      name: "Caneta Delineadora Azul Branca de Neve",
      slug: "caneta-delineadora-azul-branca-neve",
      description: "💜Mega pigmentada e super resistente 💜",
      price: 1690,
      compareAtPrice: null,
      stock: 22,
      categoryId: 2,
      brand: "Branca de Neve",
      imageUrl: "https://images.unsplash.com/photo-1512207736890-6ffed8a84e8d?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1512207736890-6ffed8a84e8d?w=500&h=500&fit=crop"]),
      rating: 44,
      reviewCount: 7,
      isFeatured: 0,
    },
    {
      name: "Caneta Delineadora Marrom Glass Ruby Rose",
      slug: "caneta-delineadora-marrom-glass-ruby-rose",
      description: "💜 Ponta super fina e de fácil aplicação. 💜 💜 Alta fixação e cor intensificada. 💜",
      price: 1990,
      compareAtPrice: null,
      stock: 18,
      categoryId: 2,
      brand: "Ruby Rose",
      imageUrl: "https://images.unsplash.com/photo-1596704017254-9b121068ec31?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1596704017254-9b121068ec31?w=500&h=500&fit=crop"]),
      rating: 45,
      reviewCount: 9,
      isFeatured: 0,
    },
    {
      name: "Caneta Delineadora PAM",
      slug: "caneta-delineadora-pam",
      description: "💜Super pigmentada. 💜 💜Traço fino. 💜 💜Secagem rápida e aprova d'água. 💜",
      price: 2590,
      compareAtPrice: null,
      stock: 15,
      categoryId: 2,
      brand: "PAM",
      imageUrl: "https://images.unsplash.com/photo-1590736969955-71cc94901144?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1590736969955-71cc94901144?w=500&h=500&fit=crop"]),
      rating: 46,
      reviewCount: 10,
      isFeatured: 0,
    },
    // Pele
    {
      name: "Pó Compacto Translúcido Ruby Rose",
      slug: "po-compacto-translucido-ruby-rose",
      description: "💜Mattifica a pele, não adiciona cor é a textura é super fina 💜 Para todos os tipos de pele !",
      price: 1790,
      compareAtPrice: null,
      stock: 25,
      categoryId: 6,
      brand: "Ruby Rose",
      imageUrl: "https://images.unsplash.com/photo-1596704017254-9b121068ec31?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1596704017254-9b121068ec31?w=500&h=500&fit=crop"]),
      rating: 47,
      reviewCount: 13,
      isFeatured: 0,
    },
    {
      name: "Primer Facial Linha Rosa Ruby Rose",
      slug: "primer-facial-linha-rosa-ruby-rose",
      description: "💜Minimiza os poros, toque seco e aveludado 💜",
      price: 3690,
      compareAtPrice: null,
      stock: 20,
      categoryId: 6,
      brand: "Ruby Rose",
      imageUrl: "https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=500&h=500&fit=crop"]),
      rating: 46,
      reviewCount: 11,
      isFeatured: 0,
    },
    {
      name: "Bruma Glow Stitch Fenzza",
      slug: "bruma-glow-stitch-fenzza",
      description: "💜Nutre a pele e fixa a maquiagem💜",
      price: 1690,
      compareAtPrice: null,
      stock: 22,
      categoryId: 6,
      brand: "Fenzza",
      imageUrl: "https://images.unsplash.com/photo-1556228720-195a672e8a03?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1556228720-195a672e8a03?w=500&h=500&fit=crop"]),
      rating: 45,
      reviewCount: 8,
      isFeatured: 0,
    },
    // Cílios
    {
      name: "Cílios de Cantinho Sabrina Sato",
      slug: "cilios-cantinho-sabrina-sato",
      description: "💜Efeito gatinho que amamos, super natural 💜",
      price: 890,
      compareAtPrice: null,
      stock: 30,
      categoryId: 7,
      brand: "Sabrina Sato",
      imageUrl: "https://images.unsplash.com/photo-1583001809350-0b9e5d5a0c6e?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1583001809350-0b9e5d5a0c6e?w=500&h=500&fit=crop"]),
      rating: 44,
      reviewCount: 9,
      isFeatured: 0,
    },
    {
      name: "Cílios Postiços Tom e Jerry",
      slug: "cilios-posticos-tom-jerry",
      description: "💜Super natural e tem a base transparente💜",
      price: 890,
      compareAtPrice: null,
      stock: 28,
      categoryId: 7,
      brand: "Tom e Jerry",
      imageUrl: "https://images.unsplash.com/photo-1598452963314-b09f397a5c48?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1598452963314-b09f397a5c48?w=500&h=500&fit=crop"]),
      rating: 43,
      reviewCount: 7,
      isFeatured: 0,
    },
    {
      name: "Pancake Color Make Profissional",
      slug: "pancake-color-make-profissional",
      description: "💜Pó compacto branco, ótimo para produções artísticas e para o Halloween 🎃",
      price: 1990,
      compareAtPrice: null,
      stock: 15,
      categoryId: 6,
      brand: "Color Make",
      imageUrl: "https://images.unsplash.com/photo-1596755389378-c31d21fd1273?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1596755389378-c31d21fd1273?w=500&h=500&fit=crop"]),
      rating: 42,
      reviewCount: 6,
      isFeatured: 0,
    },
    // Achadinhos
    {
      name: "Água Lamelar Eudora",
      slug: "agua-lamelar-eudora",
      description: "💜Disponível somente 1 unidade 💜",
      price: 2000,
      compareAtPrice: null,
      stock: 1,
      categoryId: 4,
      brand: "Eudora",
      imageUrl: "https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=500&h=500&fit=crop"]),
      rating: 45,
      reviewCount: 5,
      isFeatured: 0,
    },
    {
      name: "Base Líquida Matte Adversa Cores 550 e 50",
      slug: "base-liquida-matte-adversa-550-50",
      description: "💜Disponíveis somente nessas cores 💜",
      price: 500,
      compareAtPrice: null,
      stock: 5,
      categoryId: 6,
      brand: "Adversa",
      imageUrl: "https://images.unsplash.com/photo-1596755389378-c31d21fd1273?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1596755389378-c31d21fd1273?w=500&h=500&fit=crop"]),
      rating: 40,
      reviewCount: 3,
      isFeatured: 0,
    },
    {
      name: "Batom Cremoso Obsidian Ruby Rose",
      slug: "batom-cremoso-obsidian-ruby-rose",
      description: "💜Poucas unidades disponíveis💜 Informal ao vendedor a cor desejada💜",
      price: 800,
      compareAtPrice: null,
      stock: 8,
      categoryId: 1, // Batons
      brand: "Ruby Rose",
      imageUrl: "https://images.unsplash.com/photo-1586495777744-4413f21062fa?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1586495777744-4413f21062fa?w=500&h=500&fit=crop"]),
      rating: 43,
      reviewCount: 6,
      isFeatured: 0,
    },
    {
      name: "Batom Líquido Matte Vermelho",
      slug: "batom-liquido-matte-vermelho",
      description: "💜Acabamento Matte e longa duração 💜",
      price: 500,
      compareAtPrice: null,
      stock: 12,
      categoryId: 1,
      brand: "Genérico",
      imageUrl: "https://images.unsplash.com/photo-1586495777744-4413f21062fa?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1586495777744-4413f21062fa?w=500&h=500&fit=crop"]),
      rating: 42,
      reviewCount: 5,
      isFeatured: 0,
    },
    // Buquês de Maquiagem (produtos especiais)
    {
      name: "Buquê de Mel Ferreiro Personalizado",
      slug: "buque-mel-ferreiro-personalizado",
      description: "💜Contém um lip honey + 8 chocolates💜 Montamos de acordo com a preferência do cliente, tanto valores como produtos 💜",
      price: 13690,
      compareAtPrice: null,
      stock: 5,
      categoryId: 1, // Batons (ou criar categoria especial)
      brand: "Amora Makeup",
      imageUrl: "https://images.unsplash.com/photo-1515688594390-b649af70d282?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1515688594390-b649af70d282?w=500&h=500&fit=crop"]),
      rating: 50,
      reviewCount: 20,
      isFeatured: 1,
    },
    {
      name: "Buquê de Maquiagem Fran",
      slug: "buque-maquiagem-fran",
      description: "💜Acompanha: 1 trio de gloss+ 1 gloss de mel+ 1 buquê de flor.",
      price: 33500,
      compareAtPrice: null,
      stock: 3,
      categoryId: 1,
      brand: "Amora Makeup",
      imageUrl: "https://images.unsplash.com/photo-1515688594390-b649af70d282?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1515688594390-b649af70d282?w=500&h=500&fit=crop"]),
      rating: 50,
      reviewCount: 15,
      isFeatured: 0,
    },
    {
      name: "Buquê de Maquiagem Rosa de Aniversário",
      slug: "buque-maquiagem-rosa-aniversario",
      description: "💜Acompanha: 1 paleta de sombras, 1 blush maçã, 1 iluminador, 1 gloss, 1 batom , 1 lápis de contorno labial 💜",
      price: 14990,
      compareAtPrice: null,
      stock: 4,
      categoryId: 1,
      brand: "Amora Makeup",
      imageUrl: "https://images.unsplash.com/photo-1515688594390-b649af70d282?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1515688594390-b649af70d282?w=500&h=500&fit=crop"]),
      rating: 50,
      reviewCount: 18,
      isFeatured: 0,
    },
    {
      name: "Buquê de Rosa com Trio de Gloss Fran",
      slug: "buque-rosa-trio-gloss-fran",
      description: "💜Contém um buquê de rosas vermelhas + o trio de gloss da Fran 💜",
      price: 19990,
      compareAtPrice: null,
      stock: 3,
      categoryId: 1,
      brand: "Amora Makeup",
      imageUrl: "https://images.unsplash.com/photo-1515688594390-b649af70d282?w=500&h=500&fit=crop",
      images: JSON.stringify(["https://images.unsplash.com/photo-1515688594390-b649af70d282?w=500&h=500&fit=crop"]),
      rating: 50,
      reviewCount: 16,
      isFeatured: 0,
    },
  ];

  // Inserir produtos reais
  for (const product of realProducts) {
    await db.insert(products).values(product);
  }

  console.log(`✅ ${realProducts.length} produtos reais adicionados com sucesso!`);
  console.log("🎉 Atualização concluída!");
  process.exit(0);
}

updateProducts().catch((error) => {
  console.error("❌ Erro ao atualizar produtos:", error);
  process.exit(1);
});

